version: v1.0
name: Initial Pipeline
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu2004
blocks:
  - name: 'Block #1'
    task:
      jobs:
        - name: 'Job #1'
          commands:
            - checkout
        - name: 'Job #2'
          commands:
            - 'docker pull ppodgorsek/robot-framework:latest'
        - name: 'Job #3'
          commands:
            - 'docker run -v ${PWD}/results:/opt/robotframework/reports:Z -v ${PWD}:/opt/robotframework/tests:Z ppodgorsek/robot-framework:latest ''python3 -m robot -d /opt/robotframework/reports --name SuiteName TestCases/*.robot'''
      agent:
        machine:
          type: e1-standard-2
          os_image: ubuntu2004
